#N canvas 464 362 721 584 12;
#X text 8 24 args:;
#X text 6 190 Phase detectors types: (0) Ideal \, (1) XOR \, (2) Analog
ringmod \, (3) Digital ringmod;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0_wave 1026 float 3;
#A 0 0.171428 0.171428 0.171428 0.171428 0.171428 0.171428 0.171428
0.171428 0.171428 0.171428 0.171428 0.171428 0.171428 0.171428 0.171428
0.171428 0.171428 0.171428 0.171428 0.171428 0.2 0.2 0.2 0.2 0.2 0.2
0.2 0.2 0.2 0.2 0.2 0.202597 0.205195 0.207792 0.21039 0.212987 0.215584
0.218182 0.220779 0.223377 0.225974 0.228572 0.228572 0.228572 0.228572
0.228572 0.228572 0.228572 0.228572 0.228572 0.228572 0.257143 0.257143
0.257143 0.257143 0.257143 0.257143 0.257143 0.257143 0.257143 0.257143
0.257143 0.259741 0.262338 0.264935 0.267533 0.27013 0.272728 0.275325
0.277923 0.28052 0.283117 0.314286 0.314286 0.314286 0.314286 0.314286
0.314286 0.314286 0.314286 0.314286 0.314286 0.314286 0.314286 0.314286
0.314286 0.314286 0.314286 0.314286 0.314286 0.314286 0.314286 0.285715
0.285715 0.285715 0.285715 0.285715 0.285715 0.285715 0.285715 0.285715
0.285715 0.285715 0.285715 0.285715 0.285715 0.285715 0.285715 0.285715
0.285715 0.285715 0.285715 0.285715 0.285715 0.285715 0.285715 0.285715
0.285715 0.285715 0.285715 0.285715 0.285715 0.285715 0.285715 0.285715
0.285715 0.285715 0.285715 0.285715 0.285715 0.285715 0.285715 0.285715
0.257143 0.254286 0.251429 0.248572 0.245715 0.242857 0.24 0.237143
0.234286 0.231429 0.171428 0.171428 0.171428 0.171428 0.171428 0.171428
0.171428 0.171428 0.171428 0.171428 0.171428 0.142857 0.142857 0.142857
0.142857 0.142857 0.142857 0.142857 0.142857 0.142857 0.142857 0.142857
0.111428 0.108571 0.105714 0.102856 0.0999992 0.097142 0.0942848 0.0914277
0.0885705 0.0857134 0.0571418 0.0571418 0.0571418 0.0571418 0.0571418
0.0571418 0.0571418 0.0571418 0.0571418 0.0571418 0.0285702 0.0285702
0.0285702 0.0285702 0.0285702 0.0285702 0.0285702 0.0285702 0.0285702
0.0285702 -0.0363653 -0.0441575 -0.0519498 -0.0597421 -0.0675343 -0.0753266
-0.0831188 -0.0909111 -0.0987033 -0.106496 -0.114288 -0.20286 -0.205717
-0.208574 -0.211431 -0.214288 -0.217146 -0.220003 -0.22286 -0.225717
-0.228574 -0.608577 -0.617148 -0.62572 -0.634291 -0.642863 -0.651434
-0.660006 -0.668577 -0.677149 -0.68572 -0.831175 -0.833773 -0.83637
-0.838968 -0.841565 -0.844162 -0.84676 -0.849357 -0.851955 -0.854552
-0.857149 -0.885721 -0.885721 -0.885721 -0.885721 -0.885721 -0.885721
-0.885721 -0.885721 -0.885721 -0.885721 -0.914293 -0.914293 -0.914293
-0.914293 -0.914293 -0.914293 -0.914293 -0.914293 -0.914293 -0.914293
-0.942864 -0.942864 -0.942864 -0.942864 -0.942864 -0.942864 -0.942864
-0.942864 -0.942864 -0.942864 -0.942864 -0.942864 -0.942864 -0.942864
-0.942864 -0.942864 -0.942864 -0.942864 -0.942864 -0.942864 -0.942864
-0.942864 -0.942864 -0.942864 -0.942864 -0.942864 -0.942864 -0.942864
-0.942864 -0.942864 -0.942864 -0.942864 -0.942864 -0.942864 -0.942864
-0.942864 -0.942864 -0.942864 -0.942864 -0.942864 -0.942864 -0.942864
-0.942864 -0.942864 -0.942864 -0.942864 -0.942864 -0.942864 -0.942864
-0.942864 -0.942864 -0.942864 -0.942864 -0.942864 -0.942864 -0.942864
-0.942864 -0.942864 -0.942864 -0.942864 -0.942864 -0.942864 -0.912864
-0.911436 -0.910007 -0.908578 -0.90715 -0.905721 -0.904293 -0.902864
-0.901435 -0.900007 -0.898578 -0.89715 -0.895721 -0.894292 -0.892864
-0.891435 -0.890007 -0.888578 -0.887149 -0.885721 -0.885721 -0.885721
-0.885721 -0.885721 -0.885721 -0.885721 -0.885721 -0.885721 -0.885721
-0.885721 -0.851955 -0.84676 -0.841565 -0.83637 -0.831175 -0.825981
-0.820786 -0.815591 -0.810396 -0.805201 -0.800006 -0.797149 -0.794292
-0.791435 -0.788578 -0.785721 -0.782863 -0.780006 -0.777149 -0.774292
-0.771435 -0.768578 -0.765721 -0.762863 -0.760006 -0.757149 -0.754292
-0.751435 -0.748578 -0.745721 -0.742863 -0.740006 -0.737149 -0.734292
-0.731435 -0.728577 -0.72572 -0.722863 -0.720006 -0.717149 -0.714292
-0.711694 -0.709097 -0.706499 -0.703902 -0.701305 -0.698707 -0.69611
-0.693512 -0.690915 -0.688318 -0.68572 -0.68572 -0.68572 -0.68572 -0.68572
-0.68572 -0.68572 -0.68572 -0.68572 -0.68572 -0.68572 -0.657148 -0.657148
-0.657148 -0.657148 -0.657148 -0.657148 -0.657148 -0.657148 -0.657148
-0.657148 -0.591434 -0.582862 -0.574291 -0.565719 -0.557148 -0.548576
-0.540005 -0.531433 -0.522862 -0.51429 -0.451952 -0.446757 -0.441563
-0.436368 -0.431173 -0.425978 -0.420783 -0.415588 -0.410394 -0.405199
-0.400004 -0.368575 -0.365718 -0.362861 -0.360004 -0.357147 -0.354289
-0.351432 -0.348575 -0.345718 -0.342861 0.126267 0.129954 0.13364 0.137327
0.141014 0.1447 0.148387 0.152074 0.15576 0.159447 0.163133 0.16682
0.170507 0.174193 0.17788 0.181567 0.185253 0.18894 0.192627 0.314283
0.317141 0.319998 0.322855 0.325712 0.328569 0.331426 0.334284 0.337141
0.339998 0.42857 0.435373 0.442176 0.448978 0.455781 0.462584 0.469387
0.476189 0.482992 0.489795 0.496598 0.5034 0.510203 0.517006 0.523809
0.530611 0.537414 0.544217 0.55102 0.557822 0.564625 0.571427 0.579591
0.587754 0.595917 0.604081 0.612244 0.620407 0.628571 0.636734 0.644897
0.653061 0.661224 0.669387 0.677551 0.685714 0.693877 0.702041 0.710204
0.718367 0.726531 0.734694 0.742858 0.748572 0.754287 0.760001 0.765715
0.771429 0.777144 0.782858 0.788572 0.794287 0.800001 0.805715 0.81143
0.817144 0.822858 0.828572 0.834287 0.840001 0.845715 0.85143 0.857144
0.860001 0.862858 0.865715 0.868573 0.87143 0.874287 0.877144 0.880001
0.882858 0.885715 0.889797 0.893879 0.89796 0.902042 0.906124 0.910205
0.914287 0.918369 0.92245 0.926532 0.930614 0.934695 0.938777 0.942859
0.94694 0.951022 0.955104 0.959185 0.963267 0.967349 0.97143 0.974288
0.977145 0.980002 0.982859 0.985716 0.988573 0.99143 0.994288 0.997145
1 1 1 1 1 1 1 1 1 1 1 0.997404 0.994807 0.992209 0.989612 0.987015
0.984417 0.98182 0.979222 0.976625 0.974028 0.97143 0.965716 0.960001
0.954287 0.948573 0.942859 0.937144 0.93143 0.925716 0.920001 0.914287
0.908572 0.902858 0.897144 0.891429 0.885715 0.880001 0.874287 0.868572
0.862858 0.857144 0.851429 0.845715 0.840001 0.834286 0.828572 0.822858
0.817144 0.811429 0.805715 0.800001 0.789611 0.779221 0.768832 0.758442
0.748052 0.737663 0.727273 0.716883 0.706494 0.696104 0.685714 0.68
0.674285 0.668571 0.662857 0.657143 0.651428 0.645714 0.64 0.634285
0.542856 0.539999 0.537142 0.534285 0.531428 0.52857 0.525713 0.522856
0.519999 0.517142 0.485713 0.485713 0.485713 0.485713 0.485713 0.485713
0.485713 0.485713 0.485713 0.485713 0.342855 0.33766 0.332465 0.327271
0.322076 0.316881 0.311686 0.306491 0.301296 0.296101 0.290907 0.25714
-0.0200051 -0.0400052 -0.0600053 -0.0800054 -0.100006 -0.120006 -0.140006
-0.160006 -0.180006 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437
-0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437
-0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437
-0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437
-0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437
-0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437
-0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437
-0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437
-0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437
-0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437
-0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437
-0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437
-0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437
-0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437
-0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437
-0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437
-0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437
-0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437 -0.571437
-0.571437 0.298568 0.302854 0.30714 0.311425 0.315711 0.319997 0.324282
0.328568 0.332854 0.337139 0.341425 0.345711 0.349996 0.354282 0.358568
0.362853 0.367139 0.371425 0.376619 0.381814 0.387009 0.392204 0.397398
0.402593 0.407788 0.412983 0.418177 0.423372 0.428567 0.431424 0.434281
0.437138 0.439995 0.442852 0.44571 0.448567 0.451424 0.454281 0.485709
0.485709 0.485709 0.485709 0.485709 0.485709 0.485709 0.485709 0.485709
0.485709 0.514281 0.517138 0.519995 0.522852 0.525709 0.528566 0.531423
0.53428 0.537137 0.539994 0.571422 0.57402 0.576617 0.579215 0.581812
0.584409 0.587007 0.589604 0.592202 0.594799 0.597396 0.628565 0.631422
0.634279 0.637136 0.639993 0.642851 0.645708 0.648565 0.651422 0.654279
0.657136 0.659993 0.66285 0.665707 0.668565 0.671422 0.674279 0.677136
0.679993 0.68285 0.685707 0.685707 0.685707 0.685707 0.685707 0.685707
0.685707 0.685707 0.685707 0.685707 0.457138 0.451943 0.446749 0.441554
0.436359 0.431164 0.42597 0.420775 0.41558 0.410385 0.405191 -0.0285711
-0.0285711 -0.0285711 -0.0285711 -0.0285711 -0.0285711 -0.0285711 -0.0285711
-0.0285711 -0.0285711 -0.0571423 -0.0571423 -0.0571423 -0.0571423 -0.0571423
-0.0571423 -0.0571423 -0.0571423 -0.0571423 -0.0571423 -0.0571423 -0.0571423
-0.0571423 -0.0571423 -0.0571423 -0.0571423 -0.0571423 -0.0571423 -0.0571423
-0.0571423 -0.0285711 -0.0259738 -0.0233764 -0.020779 -0.0181816 -0.0155843
-0.0129869 -0.0103895 -0.00779213 -0.00519475 -0.00259738 0.0571423
0.0571423 0.0571423 0.0571423 0.0571423 0.0571423 0.0571423 0.0571423
0.0571423 0.0571423 0.0857134 0.0857143 0.0857143 0.0857143 0.0857143
0.0857143 0.0857143 0.0857143 0.0857143 0.0857143 0.0857143 0.0857143
0.0857143 0.0857143 0.0857143 0.0857143 0.0857143;
#A 1000 0.0857143 0.0857143 0.0857143 0.0857143 0.0857143 0.0857143
0.0857143 0.0857143 0.0857143 0.0857143 0.0857143 0.0857143 0.0857143
0.0857143 0.0857143 0.0857143 0.0857143 0.0857143 0.0857143 0.0857143
0.0857143 0.0857143 0.0857143 0.0857143 0.0857143 0.0857143;
#X coords 0 1 1026 -1 100 70 1 0 0;
#X restore 385 472 graph;
#X obj 376 431 tabread4~ \$0_wave;
#X obj 232 530 dac~ 1 2;
#X text 7 40 -internal frequency [default 1000];
#X text 7 56 -k (sensitivity) [0];
#X text 7 74 -lowpass cutoff frequency [1];
#X text 7 92 -phase detector type [0];
#X obj 40 490 line~;
#X msg 40 466 \$1 50;
#X obj 40 365 vsl 12 90 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 2600 1;
#X obj 349 346 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 123 413 sigmund~ pitch;
#X obj 376 403 *~ 1024;
#X floatatom 123 461 5 0 0 0 - - -;
#X obj 123 437 mtof;
#X msg 335 277 k \$1;
#X floatatom 335 246 5 0 0 0 - - -;
#X floatatom 375 246 5 0 0 0 - - -;
#X msg 375 277 cutoff \$1;
#X msg 443 277 detector \$1;
#X floatatom 443 246 5 0 0 0 - - -;
#X floatatom 242 246 5 0 0 0 - - -;
#X msg 242 277 frequency \$1;
#X floatatom 91 299 5 0 0 0 - - -;
#X text -1 277 incoming oscillator to lock on to;
#X text 6 4 vdpll~ is a phase-locked loop.;
#X text 7 125 Lowpass cutoff frequency should generally be set close
to DC (less than 10 Hz or so) if you want the pll to act accurately.
It affects the response time. Of course \, feel free to experiment.
;
#X text 293 54 outputs:;
#X text 310 71 -internal sinusoidal oscillator;
#X text 311 88 -instantaneous phase in phasor~ format (0 - 1 range)
;
#X text 295 15 input: periodic signal to lock phase to \, messages
;
#X text 367 345 bang for current param settings;
#X obj 348 460 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#N canvas 0 23 450 300 hear 0;
#X obj 195 120 *~;
#X obj 259 75 != 1;
#X obj 148 118 *~;
#X obj 331 51 loadbang;
#X msg 331 75 0;
#X obj 244 24 inlet;
#X obj 104 32 inlet~;
#X obj 165 30 inlet~;
#X obj 141 179 outlet~;
#X obj 195 179 outlet~;
#X connect 0 0 9 0;
#X connect 1 0 2 1;
#X connect 2 0 9 0;
#X connect 3 0 4 0;
#X connect 4 0 1 0;
#X connect 4 0 0 1;
#X connect 5 0 1 0;
#X connect 5 0 0 1;
#X connect 6 0 2 0;
#X connect 6 0 8 0;
#X connect 7 0 0 0;
#X restore 232 479 pd hear wavetable;
#X obj 339 503 *~;
#X obj 232 503 *~;
#X obj 90 324 osc~ 440;
#X obj 232 372 nvs/vdpll~ 440 20 2 1;
#X connect 3 0 35 1;
#X connect 9 0 36 1;
#X connect 9 0 37 1;
#X connect 10 0 9 0;
#X connect 11 0 10 0;
#X connect 12 0 39 0;
#X connect 13 0 16 0;
#X connect 14 0 3 0;
#X connect 16 0 15 0;
#X connect 17 0 39 0;
#X connect 18 0 17 0;
#X connect 19 0 20 0;
#X connect 20 0 39 0;
#X connect 21 0 39 0;
#X connect 22 0 21 0;
#X connect 23 0 24 0;
#X connect 24 0 39 0;
#X connect 25 0 38 0;
#X connect 34 0 35 2;
#X connect 35 0 37 0;
#X connect 35 1 36 0;
#X connect 36 0 4 1;
#X connect 37 0 4 0;
#X connect 38 0 39 0;
#X connect 39 0 35 0;
#X connect 39 0 13 0;
#X connect 39 1 14 0;
